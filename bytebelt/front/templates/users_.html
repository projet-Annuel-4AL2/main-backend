{% extends "base.html" %}

{% block title %}All users{% endblock %}

{% block content %}
<div class="px-40 flex flex-1 justify-center py-5">
    <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
        <div id="allUsers">
        {% for user in users %}
      <a href ="{% url 'profil' user.username%}">
      <div class="user flex items-center gap-4 bg-black px-4 min-h-[72px] py-2 justify-between">
        <div class="flex items-center gap-4">
          <div
            class="bg-center bg-no-repeat aspect-square bg-cover rounded-full h-14 w-fit"
            style='background-image: url("{{ user.profile_pic }}");'
          ></div>
          <div class="flex flex-col justify-center">
            <p class="text-[#FFFFFF] text-base font-medium leading-normal line-clamp-1">{{ user.username }}</p>
            <p class="text-[#CBCBCB] text-sm font-normal leading-normal line-clamp-2">{{ user.bio }}</p>
          </div>
        </div>
        <div class="shrink-0">
          <div class="text-[#FFFFFF] flex size-7 items-center justify-center" data-icon="DotsThreeOutline" data-size="24px" data-weight="regular">
            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
              <path
                d="M128,96a32,32,0,1,0,32,32A32,32,0,0,0,128,96Zm0,48a16,16,0,1,1,16-16A16,16,0,0,1,128,144ZM48,96a32,32,0,1,0,32,32A32,32,0,0,0,48,96Zm0,48a16,16,0,1,1,16-16A16,16,0,0,1,48,144ZM208,96a32,32,0,1,0,32,32A32,32,0,0,0,208,96Zm0,48a16,16,0,1,1,16-16A16,16,0,0,1,208,144Z"
              ></path>
            </svg>
          </div>
        </a>
        </div>
    </div>
    {% endfor %}
    </div>
  </div>
{% endblock %}


{% block extra_js %}


<script>

    document.addEventListener('DOMContentLoaded', () => {
        const search = document.getElementById('search_base');
        const allGroupe = document.getElementById('allUsers'); 
        const groupes = allGroupe.querySelectorAll('.user');
      
        search.addEventListener('input', (e) => {
          const value = e.target.value.toLowerCase();
          groupes.forEach(groupe => {
            const name = groupe.querySelector('.flex.flex-col.justify-center > p').textContent.toLowerCase();
            if (name.includes(value)) {
              groupe.style.display = 'flex';
            } else {
              groupe.style.display = 'none';
            }
          });
        });
      });
      
      

</script>


{% endblock %}
